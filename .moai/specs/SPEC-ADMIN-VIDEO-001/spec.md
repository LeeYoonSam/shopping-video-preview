---
id: SPEC-ADMIN-VIDEO-001
version: "1.0.0"
status: "draft"
created: "2025-12-23"
updated: "2025-12-23"
author: "MoAI-ADK"
priority: "LOW"
tags: ["admin", "dashboard", "video-management", "monitoring"]
dependencies: ["SPEC-TRYON-001", "SPEC-VIDEOGEN-001"]
---

# SPEC-ADMIN-VIDEO-001: AI 비디오 생성 관리 대시보드

## HISTORY

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|-----------|
| 1.0.0 | 2025-12-23 | MoAI-ADK | 초기 SPEC 작성 |

---

## 개요 (Overview)

### 목적

관리자가 AI 비디오 생성 작업을 효율적으로 모니터링하고, 상품별 비디오를 체계적으로 관리하며, 모델 이미지 라이브러리를 중앙 집중화하여 관리할 수 있는 종합 관리자 대시보드를 구축한다.

### 배경

- AI 기반 가상 착용(Virtual Try-On) 비디오 생성 기능이 도입됨에 따라, 대량의 비디오 생성 작업이 발생
- 관리자가 작업 상태를 실시간으로 파악하고 문제 발생 시 신속하게 대응할 수 있는 도구 필요
- 상품-비디오 매핑 관리, 모델 이미지 관리, 비용 추적 등의 운영 기능 요구

### 범위

본 SPEC은 다음 기능을 포함한다:
- 비디오 생성 작업 큐 모니터링 대시보드
- 상품별 비디오 관리 인터페이스
- 모델 이미지 라이브러리 관리
- 비용 및 사용량 통계 대시보드
- 시스템 설정 관리

---

## EARS 요구사항 (EARS Requirements)

### 1. Ubiquitous (보편적 요구사항)

| ID | 요구사항 | 근거 |
|----|----------|------|
| U-001 | 관리자 대시보드는 인증된 관리자만 접근할 수 있어야 한다. | 보안 및 데이터 보호 |
| U-002 | 모든 관리 작업은 감사 로그에 기록되어야 한다. | 운영 추적 및 보안 감사 |
| U-003 | 대시보드는 반응형 레이아웃을 지원하여 다양한 화면 크기에서 사용 가능해야 한다. | 접근성 및 사용성 |
| U-004 | 모든 삭제 작업은 soft delete로 처리되어야 한다. | 데이터 복구 가능성 |
| U-005 | 페이지네이션은 기본 20개 항목을 표시하고, 50/100개 옵션을 제공해야 한다. | 성능 최적화 |

### 2. Event-Driven (이벤트 기반 요구사항)

| ID | 트리거 이벤트 | 시스템 응답 |
|----|---------------|-------------|
| E-001 | 비디오 생성 작업이 완료되면 | 대시보드는 실시간으로 상태를 업데이트해야 한다. |
| E-002 | 작업이 실패하면 | 시스템은 실패 원인을 표시하고 재시도 버튼을 활성화해야 한다. |
| E-003 | 새로운 비디오가 생성되면 | 상품-비디오 매핑 목록이 자동으로 갱신되어야 한다. |
| E-004 | 모델 이미지가 업로드되면 | 시스템은 이미지 유효성을 검증하고 썸네일을 생성해야 한다. |
| E-005 | API 사용량이 임계치(80%)에 도달하면 | 시스템은 관리자에게 경고 알림을 표시해야 한다. |

### 3. Unwanted Behavior (비정상 상황 처리)

| ID | 비정상 상황 | 시스템 응답 |
|----|-------------|-------------|
| UW-001 | 만약 관리자가 진행 중인 작업을 취소하면 | 시스템은 확인 다이얼로그를 표시해야 한다. |
| UW-002 | 만약 비디오 삭제 시도가 있으면 | 시스템은 연관된 상품 목록을 표시하고 확인을 요청해야 한다. |
| UW-003 | 만약 기본 모델 삭제 시도가 있으면 | 시스템은 다른 기본 모델 지정을 먼저 요청해야 한다. |
| UW-004 | 만약 API 연결이 실패하면 | 시스템은 오프라인 상태를 표시하고 재연결을 시도해야 한다. |
| UW-005 | 만약 잘못된 형식의 파일이 업로드되면 | 시스템은 지원 형식을 안내하고 업로드를 거부해야 한다. |

### 4. State-Driven (상태 기반 요구사항)

| ID | 시스템 상태 | 시스템 동작 |
|----|-------------|-------------|
| S-001 | 대시보드가 "실시간 모니터링" 모드인 동안 | 시스템은 5초마다 작업 상태를 갱신해야 한다. |
| S-002 | 작업이 "대기 중" 상태인 동안 | 사용자는 우선순위를 변경할 수 있어야 한다. |
| S-003 | 작업이 "처리 중" 상태인 동안 | 사용자는 취소만 가능하고 수정은 불가능해야 한다. |
| S-004 | 비디오가 "검토 중" 상태인 동안 | 시스템은 승인/거부 옵션을 제공해야 한다. |
| S-005 | 시스템이 "유지보수" 모드인 동안 | 새로운 작업 생성이 비활성화되어야 한다. |

### 5. Optional (선택적 요구사항)

| ID | 조건 | 기능 |
|----|------|------|
| O-001 | 관리자 설정에 따라 | 시스템은 작업 완료 시 이메일/슬랙 알림을 전송할 수 있어야 한다. |
| O-002 | 관리자가 원하는 경우 | 대시보드 레이아웃을 커스터마이징할 수 있어야 한다. |
| O-003 | 관리자가 설정하는 경우 | 특정 시간대에 자동 보고서를 생성할 수 있어야 한다. |
| O-004 | 관리자가 활성화하는 경우 | 작업 일괄 처리(Batch) 기능을 사용할 수 있어야 한다. |
| O-005 | 관리자가 선택하는 경우 | 다크 모드 테마를 적용할 수 있어야 한다. |

---

## 대시보드 구조 (Dashboard Structure)

### 메인 네비게이션

```
/admin/video
├── /dashboard          # 메인 대시보드 (개요)
├── /jobs               # 작업 큐 관리
│   ├── /pending        # 대기 중 작업
│   ├── /processing     # 처리 중 작업
│   ├── /completed      # 완료된 작업
│   └── /failed         # 실패한 작업
├── /videos             # 비디오 관리
│   ├── /[productId]    # 상품별 비디오
│   └── /upload         # 수동 업로드
├── /models             # 모델 이미지 라이브러리
│   ├── /male           # 남성 모델
│   ├── /female         # 여성 모델
│   └── /neutral        # 중성 모델
├── /analytics          # 통계 및 분석
│   ├── /usage          # 사용량 통계
│   └── /costs          # 비용 분석
└── /settings           # 설정
    ├── /api            # API 설정
    ├── /quality        # 품질 설정
    └── /notifications  # 알림 설정
```

### 레이아웃 구성

- 좌측 사이드바: 메인 네비게이션 메뉴
- 상단 헤더: 검색, 알림, 사용자 프로필
- 메인 컨텐츠: 각 페이지별 콘텐츠 영역
- 우측 패널 (선택적): 상세 정보, 빠른 작업

---

## 화면 설계 (Screen Design)

### 1. 메인 대시보드 (/admin/video/dashboard)

#### 기능 요구사항

- 작업 상태 요약 카드 (대기/처리중/완료/실패 각각의 건수)
- 최근 24시간 작업 추이 차트
- 실시간 처리 중인 작업 목록 (최대 5개)
- 최근 실패한 작업 알림
- 스토리지 사용량 게이지
- API 호출 잔여량 표시

#### UI 컴포넌트

- StatCard: 통계 요약 카드
- LineChart: 작업 추이 시각화
- JobList: 작업 목록 테이블
- AlertBanner: 경고/알림 배너
- ProgressRing: 사용량 게이지

### 2. 작업 큐 관리 (/admin/video/jobs)

#### 기능 요구사항

- 필터링: 상태, 날짜 범위, 상품 카테고리
- 정렬: 생성일, 우선순위, 예상 완료 시간
- 일괄 작업: 선택한 항목 재시도/취소
- 실시간 진행률 표시 (프로그레스 바)
- 작업 상세 정보 슬라이드 오버

#### UI 컴포넌트

- DataTable (TanStack Table): 작업 목록
- FilterBar: 필터 UI
- BatchActionBar: 일괄 작업 도구
- ProgressBar: 진행률 표시
- SlideOver: 상세 정보 패널

### 3. 상품별 비디오 관리 (/admin/video/videos)

#### 기능 요구사항

- 상품-비디오 매핑 목록 표시
- 비디오 썸네일 미리보기
- 인라인 비디오 재생
- 비디오 교체 업로드
- 비디오 삭제 (확인 다이얼로그 포함)
- 수동 비디오 업로드 기능

#### UI 컴포넌트

- VideoCard: 비디오 카드 (썸네일 + 정보)
- VideoPlayer: 비디오 미리보기 플레이어
- UploadDropzone: 드래그 앤 드롭 업로드
- ConfirmDialog: 삭제 확인 다이얼로그

### 4. 모델 이미지 라이브러리 (/admin/video/models)

#### 기능 요구사항

- 모델 이미지 그리드 뷰
- 카테고리별 필터 (남성/여성/중성)
- 새 모델 이미지 업로드
- 기본 모델 설정/해제
- 모델 상세 정보 편집
- 모델 이미지 삭제

#### UI 컴포넌트

- ImageGrid: 이미지 그리드 레이아웃
- CategoryTabs: 카테고리 탭
- ImageUploader: 이미지 업로드 UI
- ImageDetailModal: 상세 정보 모달
- DefaultBadge: 기본 모델 표시 배지

### 5. 통계 및 분석 (/admin/video/analytics)

#### 기능 요구사항

- API 호출 횟수 추이 (일별/주별/월별)
- 월별 비용 추이 차트
- 스토리지 사용량 분석
- 성공/실패율 통계
- 평균 처리 시간 분석
- 기간별 리포트 다운로드 (CSV/PDF)

#### UI 컴포넌트

- LineChart: 추이 차트 (Recharts)
- BarChart: 비교 차트
- PieChart: 비율 차트
- DateRangePicker: 기간 선택
- ReportDownloader: 리포트 다운로드 버튼

### 6. 설정 관리 (/admin/video/settings)

#### 기능 요구사항

- AI API 키 관리 (마스킹 표시)
- 기본 비디오 품질 설정 (해상도, 프레임레이트, 길이)
- 알림 설정 (이메일, 슬랙 웹훅)
- 자동 재시도 정책 설정
- 동시 처리 작업 수 제한

#### UI 컴포넌트

- SettingsForm: 설정 폼
- SecretInput: 비밀 정보 입력 (마스킹)
- NumberStepper: 숫자 조절기
- Toggle: 토글 스위치
- WebhookTester: 웹훅 테스트 버튼

---

## 권한 관리 (Role-Based Access Control)

### 역할 정의

| 역할 | 설명 | 권한 수준 |
|------|------|-----------|
| Super Admin | 전체 시스템 관리자 | 모든 권한 |
| Admin | 비디오 관리자 | 대부분의 기능 (설정 일부 제한) |
| Operator | 운영자 | 조회 및 기본 작업만 가능 |
| Viewer | 뷰어 | 읽기 전용 |

### 권한 매트릭스

| 기능 | Super Admin | Admin | Operator | Viewer |
|------|-------------|-------|----------|--------|
| 대시보드 조회 | O | O | O | O |
| 작업 모니터링 | O | O | O | O |
| 작업 재시도/취소 | O | O | O | X |
| 비디오 업로드/삭제 | O | O | X | X |
| 모델 이미지 관리 | O | O | X | X |
| 통계 조회 | O | O | O | O |
| 리포트 다운로드 | O | O | O | X |
| API 설정 변경 | O | X | X | X |
| 알림 설정 변경 | O | O | X | X |
| 사용자 권한 관리 | O | X | X | X |

---

## 의존성 (Dependencies)

### 내부 의존성

| SPEC ID | 설명 | 의존 내용 |
|---------|------|-----------|
| SPEC-TRYON-001 | 가상 착용 시스템 | 비디오 생성 작업 API, 작업 상태 모델 |
| SPEC-VIDEOGEN-001 | 비디오 생성 서비스 | 비디오 메타데이터, 생성 파이프라인 연동 |

### 외부 의존성

| 라이브러리 | 버전 | 용도 |
|------------|------|------|
| React | ^19.0.0 | UI 프레임워크 |
| Next.js | ^15.0.0 | App Router, 서버 컴포넌트 |
| shadcn/ui | latest | UI 컴포넌트 라이브러리 |
| TanStack Table | ^8.0.0 | 데이터 테이블 |
| Recharts | ^2.12.0 | 차트/통계 시각화 |
| React Query | ^5.0.0 | 서버 상태 관리 |
| Zustand | ^5.0.0 | 클라이언트 상태 관리 |
| Socket.io-client | ^4.0.0 | WebSocket 실시간 통신 |

### API 의존성

| API 엔드포인트 | 메서드 | 설명 |
|----------------|--------|------|
| /api/admin/jobs | GET | 작업 목록 조회 |
| /api/admin/jobs/:id | GET/PATCH/DELETE | 작업 상세/수정/삭제 |
| /api/admin/jobs/:id/retry | POST | 작업 재시도 |
| /api/admin/videos | GET/POST | 비디오 목록/업로드 |
| /api/admin/videos/:id | GET/PATCH/DELETE | 비디오 상세/수정/삭제 |
| /api/admin/models | GET/POST | 모델 이미지 목록/업로드 |
| /api/admin/models/:id | GET/PATCH/DELETE | 모델 상세/수정/삭제 |
| /api/admin/analytics | GET | 통계 데이터 조회 |
| /api/admin/settings | GET/PATCH | 설정 조회/수정 |

---

## 비기능 요구사항 (Non-Functional Requirements)

### 성능

- 대시보드 초기 로딩: 3초 이내
- 테이블 페이지네이션 응답: 500ms 이내
- 실시간 업데이트 지연: 5초 이내
- 파일 업로드: 100MB까지 지원

### 보안

- RBAC 기반 접근 제어
- API 키 암호화 저장
- 감사 로그 90일 보관
- CSRF/XSS 방어

### 가용성

- 99.5% 가동률 목표
- 장애 시 자동 재연결 (3회 시도)
- 오프라인 모드 지원 (읽기 전용)

---

## 태그 (Traceability Tags)

- TAG: SPEC-ADMIN-VIDEO-001
- DOMAIN: admin, frontend, dashboard
- PRIORITY: LOW
- DEPENDENCIES: SPEC-TRYON-001, SPEC-VIDEOGEN-001
